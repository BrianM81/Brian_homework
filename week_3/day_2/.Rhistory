knitr::opts_chunk$set(echo = TRUE, fig.align = 'center')
library(tidyverse)
library(tidyverse)
library(readr)
face_descriptions <- read_csv("face_descriptions.csv")
View(face_descriptions)
library(tidyverse) #Loading tidyverse
library(readr)
face_descriptions <- read_csv("face_descriptions.csv")
dim(face_descriptions)
colnames(face_descriptions)
rownames(face_descriptions)
head(face_descriptions)
head(face_descriptions, 10)
face_descriptions %>%
pivot_longer(-sex, age, names_to = "eye-characteristics", values_to = "count")
face_descriptions %>%
pivot_longer(-sex, names_to = "eye-characteristics", values_to = "count")
%>%
%>%
%>%
%>%
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data
head(face_descriptions_long
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data
head(face_descriptions_long)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data
head(face_descriptions_long, 10)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
head(face_descriptions_tail, 10)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
head,tail(face_descriptions_lonng, 10)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
head, tail(face_descriptions_lonng, 10)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
head(face_descriptions_long, 10) %>%
tail(face_descriptions_long, 10)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
head(face_descriptions_long, 20
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
head(face_descriptions_long, 20)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
head(face_descriptions_long, 50)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
view(face_descriptions_long)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
head(face_descriptions_long, 10)
# split the codes and descriptions column
hospital_visits_coded <- hospital_visits_wide %>%
separate(IcdChapter, c("code", "description"), sep = "\\." )
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
view(face_descriptions_long,)
# tidy the descriptions data
face_descriptions_long <- face_descriptions %>%
pivot_longer(cols = starts_with("t"),
names_to = "description",
values_to = "observations")
# view the data, first 10 for comparison
head(face_descriptions_long, 10)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", 'third observation), sep = "\\.", "\\\", "\\ " )
head(face_descriptions_long_sep)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", 'third observation), sep = "\\."))
head(face_descriptions_long_sep)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\.")
head(face_descriptions_long_sep)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\.", "\\ ")
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\.", "\\\")
head(face_descriptions_long_sep)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\."
head(face_descriptions_long_sep)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\.")
head(face_descriptions_long_sep)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\.", "\\ ")
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\.", "\\\")
head(face_descriptions_long_sep)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\ ")
head(face_descriptions_long_sep)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\ ")
head(face_descriptions_long_sep, 10)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\ ") %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\/")
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\ ") %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\.")
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\ ") %>%
head(face_descriptions_long_sep, 10)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "\\ ")
head(face_descriptions_long_sep, 10)
# tidy the hospital data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("description"),
names_to = "description",
values_to = "observation")
# view the data
head(all_descriptions, 10)
# tidy the hospital data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("description"),
names_to = "description",
values_to = "observations")
# view the data
head(all_descriptions, 10)
# tidy the hospital data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("description"),
names_to = "description")
# view the data
head(all_descriptions, 10)
# tidy the description data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("observation"),
names_to = "observation")
# view the data
head(all_descriptions, 10)
# tidy the description data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("observation")
# view the data
head(all_descriptions, 10)
# tidy the description data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("observation")
values_to = "observations" )
# tidy the description data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("observation"),
names_to = "main_observation"
)
# view the data
head(all_descriptions, 10)
# tidy the description data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("observation"),
names_to = "main_observation"
values_to = "observations" )
# tidy the description data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("observation"),
names_to = "main_observation"
values_to = "result")
# tidy the description data
all_descriptions <- face_descriptions_long_sep%>%
pivot_longer(cols = ends_with("observation"),
names_to = "main_observation",
values_to = "result")
# view the data
head(all_descriptions, 10)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "([ /,. ])”")
head(face_descriptions_long_sep, 10)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "(// ")
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = "(\\ ")
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"),
sep = “\\ “)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"), sep = “\\ “)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"), sep = “\\“)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"), sep = “\\ “ )
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"), sep = “// “)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"), sep = “/“)
# split the codes and descriptions column
face_descriptions_long_sep <- face_descriptions_long %>%
separate(observations, c("first observation", "second observation", "third observation"), sep = "\\ ")
head(face_descriptions_long_sep, 10) #Not sure why this isn't working now, it was working earlier?!
